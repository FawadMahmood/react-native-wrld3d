{"version":3,"names":["React","useEffect","useRef","useState","findNodeHandle","PixelRatio","Platform","UIManager","View","WrldMap3d","Marker","MarkerView","createFragment","viewId","dispatchViewManagerCommand","Wrld3dView","Commands","create","toString","props","dimensions","setDimensions","width","height","ref","OS","current","mapStyles","getPixelSizeForLayoutSize","onlayout","event","nativeEvent","layout","bind","style","overflow","zoomLevel","initialCenter","latitude","longitude","children"],"sources":["index.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\nimport {\n  findNodeHandle,\n  LayoutChangeEvent,\n  PixelRatio,\n  Platform,\n  UIManager,\n  View,\n} from 'react-native';\n\n\nimport { WrldMap3d, Marker as MarkerView, Wrld3dProps } from './MapViewManager';\n\n\n\nconst createFragment = (viewId: number) =>\n  UIManager.dispatchViewManagerCommand(\n    viewId,\n    // we are calling the 'create' command\n    // @ts-ignore\n    UIManager.Wrld3dView.Commands.create.toString(),\n    [viewId]\n  );\n\n// type MapTypes = {\n//   style?: ViewStyle,\n//   children?: Element;\n//   zoomLevel?: number\n// }\n\n\nexport const Marker = MarkerView;\n\n\nexport const Wrld3dView = (props: Wrld3dProps) => {\n  const [dimensions, setDimensions] = useState({ width: 0, height: 0 });\n  const ref = useRef(null);\n\n  useEffect(() => {\n    if (Platform.OS === \"android\") {\n      const viewId = findNodeHandle(ref.current);\n      createFragment(viewId as number);\n    }\n  }, []);\n\n  const mapStyles = {\n    // converts dpi to px, provide desired height\n    height: PixelRatio.getPixelSizeForLayoutSize(dimensions.height),\n    // converts dpi to px, provide desired width\n    width: PixelRatio.getPixelSizeForLayoutSize(dimensions.width),\n  };\n\n\n  const onlayout = (event: LayoutChangeEvent) => {\n    const { width, height } = event.nativeEvent.layout;\n    setDimensions({ width: width, height: height });\n  }\n\n  return (\n    <View onLayout={onlayout.bind(null)} style={[props.style, { overflow: \"hidden\" }]}>\n      <WrldMap3d\n        style={mapStyles}\n        // @ts-ignore\n        ref={ref}\n        zoomLevel={props.zoomLevel ? props.zoomLevel : 12}\n        initialCenter={props.initialCenter ? props.initialCenter : {\n          latitude: 24.8620495,\n          longitude: 67.070877\n        }}\n      >\n        {props.children}\n      </WrldMap3d>\n    </View>\n\n  )\n}\n\n\n{/* <View style={{ width: 100, height: 100, backgroundColor: \"red\", borderRadius: 50 }}></View> */ }"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AACA,SACEC,cADF,EAGEC,UAHF,EAIEC,QAJF,EAKEC,SALF,EAMEC,IANF,QAOO,cAPP;AAUA,SAASC,SAAT,EAAoBC,MAAM,IAAIC,UAA9B,QAA6D,kBAA7D;;AAIA,MAAMC,cAAc,GAAIC,MAAD,IACrBN,SAAS,CAACO,0BAAV,CACED,MADF,EAEE;AACA;AACAN,SAAS,CAACQ,UAAV,CAAqBC,QAArB,CAA8BC,MAA9B,CAAqCC,QAArC,EAJF,EAKE,CAACL,MAAD,CALF,CADF,C,CASA;AACA;AACA;AACA;AACA;;;AAGA,OAAO,MAAMH,MAAM,GAAGC,UAAf;AAGP,OAAO,MAAMI,UAAU,GAAII,KAAD,IAAwB;EAChD,MAAM,CAACC,UAAD,EAAaC,aAAb,IAA8BlB,QAAQ,CAAC;IAAEmB,KAAK,EAAE,CAAT;IAAYC,MAAM,EAAE;EAApB,CAAD,CAA5C;EACA,MAAMC,GAAG,GAAGtB,MAAM,CAAC,IAAD,CAAlB;EAEAD,SAAS,CAAC,MAAM;IACd,IAAIK,QAAQ,CAACmB,EAAT,KAAgB,SAApB,EAA+B;MAC7B,MAAMZ,MAAM,GAAGT,cAAc,CAACoB,GAAG,CAACE,OAAL,CAA7B;MACAd,cAAc,CAACC,MAAD,CAAd;IACD;EACF,CALQ,EAKN,EALM,CAAT;EAOA,MAAMc,SAAS,GAAG;IAChB;IACAJ,MAAM,EAAElB,UAAU,CAACuB,yBAAX,CAAqCR,UAAU,CAACG,MAAhD,CAFQ;IAGhB;IACAD,KAAK,EAAEjB,UAAU,CAACuB,yBAAX,CAAqCR,UAAU,CAACE,KAAhD;EAJS,CAAlB;;EAQA,MAAMO,QAAQ,GAAIC,KAAD,IAA8B;IAC7C,MAAM;MAAER,KAAF;MAASC;IAAT,IAAoBO,KAAK,CAACC,WAAN,CAAkBC,MAA5C;IACAX,aAAa,CAAC;MAAEC,KAAK,EAAEA,KAAT;MAAgBC,MAAM,EAAEA;IAAxB,CAAD,CAAb;EACD,CAHD;;EAKA,oBACE,oBAAC,IAAD;IAAM,QAAQ,EAAEM,QAAQ,CAACI,IAAT,CAAc,IAAd,CAAhB;IAAqC,KAAK,EAAE,CAACd,KAAK,CAACe,KAAP,EAAc;MAAEC,QAAQ,EAAE;IAAZ,CAAd;EAA5C,gBACE,oBAAC,SAAD;IACE,KAAK,EAAER,SADT,CAEE;IAFF;IAGE,GAAG,EAAEH,GAHP;IAIE,SAAS,EAAEL,KAAK,CAACiB,SAAN,GAAkBjB,KAAK,CAACiB,SAAxB,GAAoC,EAJjD;IAKE,aAAa,EAAEjB,KAAK,CAACkB,aAAN,GAAsBlB,KAAK,CAACkB,aAA5B,GAA4C;MACzDC,QAAQ,EAAE,UAD+C;MAEzDC,SAAS,EAAE;IAF8C;EAL7D,GAUGpB,KAAK,CAACqB,QAVT,CADF,CADF;AAiBD,CAzCM;AA4CP;EAAC;AAAmG"}